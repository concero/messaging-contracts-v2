var Q=(I,N)=>()=>(I&&(N=I(I=0)),N);function AI(I,{includeName:N=!1}={}){if(!I)return"";return I.map((A)=>vN(A,{includeName:N})).join(N?", ":",")}function vN(I,{includeName:N}){if(I.type.startsWith("tuple"))return`(${AI(I.components,{includeName:N})})${I.type.slice(5)}`;return I.type+(N&&I.name?` ${I.name}`:"")}var lI=()=>{};function E(I,{strict:N=!0}={}){if(!I)return!1;if(typeof I!=="string")return!1;return N?/^0x[0-9a-fA-F]*$/.test(I):I.startsWith("0x")}function Z(I){if(E(I,{strict:!1}))return Math.ceil((I.length-2)/2);return I.length}var C=()=>{};var DI="2.23.6";function iI(I,N){if(N?.(I))return I;if(I&&typeof I==="object"&&"cause"in I&&I.cause!==void 0)return iI(I.cause,N);return N?null:I}var $I,J;var L=Q(()=>{$I={getDocsUrl:({docsBaseUrl:I,docsPath:N="",docsSlug:A})=>N?`${I??"https://viem.sh"}${N}${A?`#${A}`:""}`:void 0,version:`viem@${DI}`};J=class J extends Error{constructor(I,N={}){let A=(()=>{if(N.cause instanceof J)return N.cause.details;if(N.cause?.message)return N.cause.message;return N.details})(),D=(()=>{if(N.cause instanceof J)return N.cause.docsPath||N.docsPath;return N.docsPath})(),$=$I.getDocsUrl?.({...N,docsPath:D}),G=[I||"An error occurred.","",...N.metaMessages?[...N.metaMessages,""]:[],...$?[`Docs: ${$}`]:[],...A?[`Details: ${A}`]:[],...$I.version?[`Version: ${$I.version}`]:[]].join(`
`);super(G,N.cause?{cause:N.cause}:void 0);Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=A,this.docsPath=D,this.metaMessages=N.metaMessages,this.name=N.name??this.name,this.shortMessage=I,this.version=DI}walk(I){return iI(this,I)}}});var VI,FI,GI,WI,YI,JI,QI,ZI;var XI=Q(()=>{lI();C();L();VI=class VI extends J{constructor({data:I,params:N,size:A}){super([`Data size of ${A} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${AI(N,{includeName:!0})})`,`Data:   ${I} (${A} bytes)`],name:"AbiDecodingDataSizeTooSmallError"});Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=I,this.params=N,this.size=A}};FI=class FI extends J{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}};GI=class GI extends J{constructor({expectedLength:I,givenLength:N,type:A}){super([`ABI encoding array length mismatch for type ${A}.`,`Expected length: ${I}`,`Given length: ${N}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}};WI=class WI extends J{constructor({expectedSize:I,value:N}){super(`Size of bytes "${N}" (bytes${Z(N)}) does not match expected size (bytes${I}).`,{name:"AbiEncodingBytesSizeMismatchError"})}};YI=class YI extends J{constructor({expectedLength:I,givenLength:N}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${I}`,`Given length (values): ${N}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}};JI=class JI extends J{constructor(I,{docsPath:N}){super([`Type "${I}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:N,name:"InvalidAbiEncodingType"})}};QI=class QI extends J{constructor(I,{docsPath:N}){super([`Type "${I}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:N,name:"InvalidAbiDecodingType"})}};ZI=class ZI extends J{constructor(I){super([`Value "${I}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}});var p,o;var qI=Q(()=>{L();p=class p extends J{constructor({offset:I,position:N,size:A}){super(`Slice ${N==="start"?"starting":"ending"} at offset "${I}" is out-of-bounds (size: ${A}).`,{name:"SliceOffsetOutOfBoundsError"})}};o=class o extends J{constructor({size:I,targetSize:N,type:A}){super(`${A.charAt(0).toUpperCase()}${A.slice(1).toLowerCase()} size (${I}) exceeds padding size (${N}).`,{name:"SizeExceedsPaddingSizeError"})}}});function j(I,{dir:N,size:A=32}={}){if(typeof I==="string")return R(I,{dir:N,size:A});return cN(I,{dir:N,size:A})}function R(I,{dir:N,size:A=32}={}){if(A===null)return I;let D=I.replace("0x","");if(D.length>A*2)throw new o({size:Math.ceil(D.length/2),targetSize:A,type:"hex"});return`0x${D[N==="right"?"padEnd":"padStart"](A*2,"0")}`}function cN(I,{dir:N,size:A=32}={}){if(A===null)return I;if(I.length>A)throw new o({size:I.length,targetSize:A,type:"bytes"});let D=new Uint8Array(A);for(let $=0;$<A;$++){let G=N==="right";D[G?$:A-$-1]=I[G?$:I.length-$-1]}return D}var t=Q(()=>{qI()});var T,wI,KI;var g=Q(()=>{L();T=class T extends J{constructor({max:I,min:N,signed:A,size:D,value:$}){super(`Number "${$}" is not in safe ${D?`${D*8}-bit ${A?"signed":"unsigned"} `:""}integer range ${I?`(${N} to ${I})`:`(above ${N})`}`,{name:"IntegerOutOfRangeError"})}};wI=class wI extends J{constructor(I){super(`Bytes value "${I}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};KI=class KI extends J{constructor({givenSize:I,maxSize:N}){super(`Size cannot exceed ${N} bytes. Given size: ${I} bytes.`,{name:"SizeOverflowError"})}}});function n(I,{dir:N="left"}={}){let A=typeof I==="string"?I.replace("0x",""):I,D=0;for(let $=0;$<A.length-1;$++)if(A[N==="left"?$:A.length-$-1].toString()==="0")D++;else break;if(A=N==="left"?A.slice(D):A.slice(0,A.length-D),typeof I==="string"){if(A.length===1&&N==="right")A=`${A}0`;return`0x${A.length%2===1?`0${A}`:A}`}return A}function w(I,{size:N}){if(Z(I)>N)throw new KI({givenSize:Z(I),maxSize:N})}function f(I,N={}){let{signed:A}=N;if(N.size)w(I,{size:N.size});let D=BigInt(I);if(!A)return D;let $=(I.length-2)/2,G=(1n<<BigInt($)*8n-1n)-1n;if(D<=G)return D;return D-BigInt(`0x${"f".padStart($*2,"f")}`)-1n}function MI(I,N={}){return Number(f(I,N))}var v=Q(()=>{g();C()});function pI(I,N={}){if(typeof I==="number"||typeof I==="bigint")return k(I,N);if(typeof I==="string")return RI(I,N);if(typeof I==="boolean")return UI(I,N);return M(I,N)}function UI(I,N={}){let A=`0x${Number(I)}`;if(typeof N.size==="number")return w(A,{size:N.size}),j(A,{size:N.size});return A}function M(I,N={}){let A="";for(let $=0;$<I.length;$++)A+=mN[I[$]];let D=`0x${A}`;if(typeof N.size==="number")return w(D,{size:N.size}),j(D,{dir:"right",size:N.size});return D}function k(I,N={}){let{signed:A,size:D}=N,$=BigInt(I),G;if(D)if(A)G=(1n<<BigInt(D)*8n-1n)-1n;else G=2n**(BigInt(D)*8n)-1n;else if(typeof I==="number")G=BigInt(Number.MAX_SAFE_INTEGER);let V=typeof G==="bigint"&&A?-G-1n:0;if(G&&$>G||$<V){let Y=typeof I==="bigint"?"n":"";throw new T({max:G?`${G}${Y}`:void 0,min:`${V}${Y}`,signed:A,size:D,value:`${I}${Y}`})}let W=`0x${(A&&$<0?(1n<<BigInt(D*8))+BigInt($):$).toString(16)}`;if(D)return j(W,{size:D});return W}function RI(I,N={}){let A=uN.encode(I);return M(A,N)}var mN,uN;var B=Q(()=>{g();t();v();mN=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));uN=new TextEncoder});function tI(I,N={}){if(typeof I==="number"||typeof I==="bigint")return dN(I,N);if(typeof I==="boolean")return hN(I,N);if(E(I))return e(I,N);return kI(I,N)}function hN(I,N={}){let A=new Uint8Array(1);if(A[0]=Number(I),typeof N.size==="number")return w(A,{size:N.size}),j(A,{size:N.size});return A}function oI(I){if(I>=_.zero&&I<=_.nine)return I-_.zero;if(I>=_.A&&I<=_.F)return I-(_.A-10);if(I>=_.a&&I<=_.f)return I-(_.a-10);return}function e(I,N={}){let A=I;if(N.size)w(A,{size:N.size}),A=j(A,{dir:"right",size:N.size});let D=A.slice(2);if(D.length%2)D=`0${D}`;let $=D.length/2,G=new Uint8Array($);for(let V=0,W=0;V<$;V++){let Y=oI(D.charCodeAt(W++)),X=oI(D.charCodeAt(W++));if(Y===void 0||X===void 0)throw new J(`Invalid byte sequence ("${D[W-2]}${D[W-1]}" in "${D}").`);G[V]=Y*16+X}return G}function dN(I,N){let A=k(I,N);return e(A)}function kI(I,N={}){let A=yN.encode(I);if(typeof N.size==="number")return w(A,{size:N.size}),j(A,{dir:"right",size:N.size});return A}var yN,_;var r=Q(()=>{L();t();v();B();yN=new TextEncoder;_={zero:48,nine:57,A:65,F:70,a:97,f:102}});function _I(I){if(!Number.isSafeInteger(I)||I<0)throw new Error("positive integer expected, got "+I)}function lN(I){return I instanceof Uint8Array||ArrayBuffer.isView(I)&&I.constructor.name==="Uint8Array"}function c(I,...N){if(!lN(I))throw new Error("Uint8Array expected");if(N.length>0&&!N.includes(I.length))throw new Error("Uint8Array expected of length "+N+", got length="+I.length)}function SI(I,N=!0){if(I.destroyed)throw new Error("Hash instance has been destroyed");if(N&&I.finished)throw new Error("Hash#digest() has already been called")}function eI(I,N){c(I);let A=N.outputLen;if(I.length<A)throw new Error("digestInto() expects output buffer of length at least "+A)}var EI=()=>{};function iN(I,N=!1){if(N)return{h:Number(I&a),l:Number(I>>rI&a)};return{h:Number(I>>rI&a)|0,l:Number(I&a)|0}}function aI(I,N=!1){let A=new Uint32Array(I.length),D=new Uint32Array(I.length);for(let $=0;$<I.length;$++){let{h:G,l:V}=iN(I[$],N);[A[$],D[$]]=[G,V]}return[A,D]}var a,rI,sI=(I,N,A)=>I<<A|N>>>32-A,IN=(I,N,A)=>N<<A|I>>>32-A,NN=(I,N,A)=>N<<A-32|I>>>64-A,AN=(I,N,A)=>I<<A-32|N>>>64-A;var DN=Q(()=>{a=BigInt(4294967295),rI=BigInt(32)});function $N(I){return new Uint32Array(I.buffer,I.byteOffset,Math.floor(I.byteLength/4))}function pN(I){return I<<24&4278190080|I<<8&16711680|I>>>8&65280|I>>>24&255}function jI(I){for(let N=0;N<I.length;N++)I[N]=pN(I[N])}function oN(I){if(typeof I!=="string")throw new Error("utf8ToBytes expected string, got "+typeof I);return new Uint8Array(new TextEncoder().encode(I))}function OI(I){if(typeof I==="string")I=oN(I);return c(I),I}class HI{clone(){return this._cloneInto()}}function VN(I){let N=(D)=>I().update(OI(D)).digest(),A=I();return N.outputLen=A.outputLen,N.blockLen=A.blockLen,N.create=()=>I(),N}var LI;var FN=Q(()=>{EI();/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */LI=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)()});function AA(I,N=24){let A=new Uint32Array(10);for(let D=24-N;D<24;D++){for(let V=0;V<10;V++)A[V]=I[V]^I[V+10]^I[V+20]^I[V+30]^I[V+40];for(let V=0;V<10;V+=2){let W=(V+8)%10,Y=(V+2)%10,X=A[Y],q=A[Y+1],P=GN(X,q,1)^A[W],l=WN(X,q,1)^A[W+1];for(let S=0;S<50;S+=10)I[V+S]^=P,I[V+S+1]^=l}let $=I[2],G=I[3];for(let V=0;V<24;V++){let W=JN[V],Y=GN($,G,W),X=WN($,G,W),q=YN[V];$=I[q],G=I[q+1],I[q]=Y,I[q+1]=X}for(let V=0;V<50;V+=10){for(let W=0;W<10;W++)A[W]=I[V+W];for(let W=0;W<10;W++)I[V+W]^=~A[(W+2)%10]&A[(W+4)%10]}I[0]^=IA[D],I[1]^=NA[D]}A.fill(0)}var YN,JN,QN,tN,m,eN,rN,aN,sN,IA,NA,GN=(I,N,A)=>A>32?NN(I,N,A):sI(I,N,A),WN=(I,N,A)=>A>32?AN(I,N,A):IN(I,N,A),PI,DA=(I,N,A)=>VN(()=>new PI(N,I,A)),ZN;var XN=Q(()=>{EI();DN();FN();YN=[],JN=[],QN=[],tN=BigInt(0),m=BigInt(1),eN=BigInt(2),rN=BigInt(7),aN=BigInt(256),sN=BigInt(113);for(let I=0,N=m,A=1,D=0;I<24;I++){[A,D]=[D,(2*A+3*D)%5],YN.push(2*(5*D+A)),JN.push((I+1)*(I+2)/2%64);let $=tN;for(let G=0;G<7;G++)if(N=(N<<m^(N>>rN)*sN)%aN,N&eN)$^=m<<(m<<BigInt(G))-m;QN.push($)}[IA,NA]=aI(QN,!0);PI=class PI extends HI{constructor(I,N,A,D=!1,$=24){super();if(this.blockLen=I,this.suffix=N,this.outputLen=A,this.enableXOF=D,this.rounds=$,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_I(A),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$N(this.state)}keccak(){if(!LI)jI(this.state32);if(AA(this.state32,this.rounds),!LI)jI(this.state32);this.posOut=0,this.pos=0}update(I){SI(this);let{blockLen:N,state:A}=this;I=OI(I);let D=I.length;for(let $=0;$<D;){let G=Math.min(N-this.pos,D-$);for(let V=0;V<G;V++)A[this.pos++]^=I[$++];if(this.pos===N)this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:I,suffix:N,pos:A,blockLen:D}=this;if(I[A]^=N,(N&128)!==0&&A===D-1)this.keccak();I[D-1]^=128,this.keccak()}writeInto(I){SI(this,!1),c(I),this.finish();let N=this.state,{blockLen:A}=this;for(let D=0,$=I.length;D<$;){if(this.posOut>=A)this.keccak();let G=Math.min(A-this.posOut,$-D);I.set(N.subarray(this.posOut,this.posOut+G),D),this.posOut+=G,D+=G}return I}xofInto(I){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(I)}xof(I){return _I(I),this.xofInto(new Uint8Array(I))}digestInto(I){if(eI(I,this),this.finished)throw new Error("digest() was already called");return this.writeInto(I),this.destroy(),I}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(I){let{blockLen:N,suffix:A,outputLen:D,rounds:$,enableXOF:G}=this;return I||(I=new PI(N,A,D,G,$)),I.state32.set(this.state32),I.pos=this.pos,I.posOut=this.posOut,I.finished=this.finished,I.rounds=$,I.suffix=A,I.outputLen=D,I.enableXOF=G,I.destroyed=this.destroyed,I}};ZN=DA(1,136,32)});function qN(I,N){let A=N||"hex",D=ZN(E(I,{strict:!1})?tI(I):I);if(A==="bytes")return D;return pI(D)}var wN=Q(()=>{XN();r();B()});var zI;var KN=Q(()=>{L();zI=class zI extends J{constructor({address:I}){super(`Address "${I}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var u;var CI=Q(()=>{u=class u extends Map{constructor(I){super();Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=I}get(I){let N=super.get(I);if(super.has(I)&&N!==void 0)this.delete(I),super.set(I,N);return N}set(I,N){if(super.set(I,N),this.maxSize&&this.size>this.maxSize){let A=this.keys().next().value;if(A)this.delete(A)}return this}}});function s(I,N){if(fI.has(`${I}.${N}`))return fI.get(`${I}.${N}`);let A=N?`${N}${I.toLowerCase()}`:I.substring(2).toLowerCase(),D=qN(kI(A),"bytes"),$=(N?A.substring(`${N}0x`.length):A).split("");for(let V=0;V<40;V+=2){if(D[V>>1]>>4>=8&&$[V])$[V]=$[V].toUpperCase();if((D[V>>1]&15)>=8&&$[V+1])$[V+1]=$[V+1].toUpperCase()}let G=`0x${$.join("")}`;return fI.set(`${I}.${N}`,G),G}var fI;var BI=Q(()=>{r();wN();CI();fI=new u(8192)});function b(I,N){let{strict:A=!0}=N??{},D=`${I}.${A}`;if(bI.has(D))return bI.get(D);let $=(()=>{if(!$A.test(I))return!1;if(I.toLowerCase()===I)return!0;if(A)return s(I)===I;return!0})();return bI.set(D,$),$}var $A,bI;var xI=Q(()=>{CI();BI();$A=/^0x[a-fA-F0-9]{40}$/,bI=new u(8192)});function H(I){if(typeof I[0]==="string")return FA(I);return VA(I)}function VA(I){let N=0;for(let $ of I)N+=$.length;let A=new Uint8Array(N),D=0;for(let $ of I)A.set($,D),D+=$.length;return A}function FA(I){return`0x${I.reduce((N,A)=>N+A.replace("0x",""),"")}`}function MN(I,N,A,{strict:D}={}){if(E(I,{strict:!1}))return GA(I,N,A,{strict:D});return TI(I,N,A,{strict:D})}function UN(I,N){if(typeof N==="number"&&N>0&&N>Z(I)-1)throw new p({offset:N,position:"start",size:Z(I)})}function RN(I,N,A){if(typeof N==="number"&&typeof A==="number"&&Z(I)!==A-N)throw new p({offset:A,position:"end",size:Z(I)})}function TI(I,N,A,{strict:D}={}){UN(I,N);let $=I.slice(N,A);if(D)RN($,N,A);return $}function GA(I,N,A,{strict:D}={}){UN(I,N);let $=`0x${I.replace("0x","").slice((N??0)*2,(A??I.length)*2)}`;if(D)RN($,N,A);return $}var gI=Q(()=>{qI();C()});var kN;var _N=Q(()=>{kN=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function nI(I,N){if(I.length!==N.length)throw new YI({expectedLength:I.length,givenLength:N.length});let A=WA({params:I,values:N}),D=cI(A);if(D.length===0)return"0x";return D}function WA({params:I,values:N}){let A=[];for(let D=0;D<I.length;D++)A.push(vI({param:I[D],value:N[D]}));return A}function vI({param:I,value:N}){let A=II(I.type);if(A){let[D,$]=A;return JA(N,{length:D,param:{...I,type:$}})}if(I.type==="tuple")return wA(N,{param:I});if(I.type==="address")return YA(N);if(I.type==="bool")return ZA(N);if(I.type.startsWith("uint")||I.type.startsWith("int")){let D=I.type.startsWith("int"),[,,$="256"]=kN.exec(I.type)??[];return XA(N,{signed:D,size:Number($)})}if(I.type.startsWith("bytes"))return QA(N,{param:I});if(I.type==="string")return qA(N);throw new JI(I.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cI(I){let N=0;for(let G=0;G<I.length;G++){let{dynamic:V,encoded:W}=I[G];if(V)N+=32;else N+=Z(W)}let A=[],D=[],$=0;for(let G=0;G<I.length;G++){let{dynamic:V,encoded:W}=I[G];if(V)A.push(k(N+$,{size:32})),D.push(W),$+=Z(W);else A.push(W)}return H([...A,...D])}function YA(I){if(!b(I))throw new zI({address:I});return{dynamic:!1,encoded:R(I.toLowerCase())}}function JA(I,{length:N,param:A}){let D=N===null;if(!Array.isArray(I))throw new ZI(I);if(!D&&I.length!==N)throw new GI({expectedLength:N,givenLength:I.length,type:`${A.type}[${N}]`});let $=!1,G=[];for(let V=0;V<I.length;V++){let W=vI({param:A,value:I[V]});if(W.dynamic)$=!0;G.push(W)}if(D||$){let V=cI(G);if(D){let W=k(G.length,{size:32});return{dynamic:!0,encoded:G.length>0?H([W,V]):W}}if($)return{dynamic:!0,encoded:V}}return{dynamic:!1,encoded:H(G.map(({encoded:V})=>V))}}function QA(I,{param:N}){let[,A]=N.type.split("bytes"),D=Z(I);if(!A){let $=I;if(D%32!==0)$=R($,{dir:"right",size:Math.ceil((I.length-2)/2/32)*32});return{dynamic:!0,encoded:H([R(k(D,{size:32})),$])}}if(D!==Number.parseInt(A))throw new WI({expectedSize:Number.parseInt(A),value:I});return{dynamic:!1,encoded:R(I,{dir:"right"})}}function ZA(I){if(typeof I!=="boolean")throw new J(`Invalid boolean value: "${I}" (type: ${typeof I}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:R(UI(I))}}function XA(I,{signed:N,size:A=256}){if(typeof A==="number"){let D=2n**(BigInt(A)-(N?1n:0n))-1n,$=N?-D-1n:0n;if(I>D||I<$)throw new T({max:D.toString(),min:$.toString(),signed:N,size:A/8,value:I.toString()})}return{dynamic:!1,encoded:k(I,{size:32,signed:N})}}function qA(I){let N=RI(I),A=Math.ceil(Z(N)/32),D=[];for(let $=0;$<A;$++)D.push(R(MN(N,$*32,($+1)*32),{dir:"right"}));return{dynamic:!0,encoded:H([R(k(Z(N),{size:32})),...D])}}function wA(I,{param:N}){let A=!1,D=[];for(let $=0;$<N.components.length;$++){let G=N.components[$],V=Array.isArray(I)?$:G.name,W=vI({param:G,value:I[V]});if(D.push(W),W.dynamic)A=!0}return{dynamic:A,encoded:A?cI(D):H(D.map(({encoded:$})=>$))}}function II(I){let N=I.match(/^(.*)\[(\d+)?\]$/);return N?[N[2]?Number(N[2]):null,N[1]]:void 0}var mI=Q(()=>{XI();KN();L();g();xI();t();C();gI();B();_N()});var NI,uI,yI;var SN=Q(()=>{L();NI=class NI extends J{constructor({offset:I}){super(`Offset \`${I}\` cannot be negative.`,{name:"NegativeOffsetError"})}};uI=class uI extends J{constructor({length:I,position:N}){super(`Position \`${N}\` is out of bounds (\`0 < position < ${I}\`).`,{name:"PositionOutOfBoundsError"})}};yI=class yI extends J{constructor({count:I,limit:N}){super(`Recursive read limit of \`${N}\` exceeded (recursive read count: \`${I}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function EN(I,{recursiveReadLimit:N=8192}={}){let A=Object.create(KA);return A.bytes=I,A.dataView=new DataView(I.buffer,I.byteOffset,I.byteLength),A.positionReadCount=new Map,A.recursiveReadLimit=N,A}var KA;var LN=Q(()=>{SN();KA={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new yI({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(I){if(I<0||I>this.bytes.length-1)throw new uI({length:this.bytes.length,position:I})},decrementPosition(I){if(I<0)throw new NI({offset:I});let N=this.position-I;this.assertPosition(N),this.position=N},getReadCount(I){return this.positionReadCount.get(I||this.position)||0},incrementPosition(I){if(I<0)throw new NI({offset:I});let N=this.position+I;this.assertPosition(N),this.position=N},inspectByte(I){let N=I??this.position;return this.assertPosition(N),this.bytes[N]},inspectBytes(I,N){let A=N??this.position;return this.assertPosition(A+I-1),this.bytes.subarray(A,A+I)},inspectUint8(I){let N=I??this.position;return this.assertPosition(N),this.bytes[N]},inspectUint16(I){let N=I??this.position;return this.assertPosition(N+1),this.dataView.getUint16(N)},inspectUint24(I){let N=I??this.position;return this.assertPosition(N+2),(this.dataView.getUint16(N)<<8)+this.dataView.getUint8(N+2)},inspectUint32(I){let N=I??this.position;return this.assertPosition(N+3),this.dataView.getUint32(N)},pushByte(I){this.assertPosition(this.position),this.bytes[this.position]=I,this.position++},pushBytes(I){this.assertPosition(this.position+I.length-1),this.bytes.set(I,this.position),this.position+=I.length},pushUint8(I){this.assertPosition(this.position),this.bytes[this.position]=I,this.position++},pushUint16(I){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,I),this.position+=2},pushUint24(I){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,I>>8),this.dataView.setUint8(this.position+2,I&255),this.position+=3},pushUint32(I){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,I),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let I=this.inspectByte();return this.position++,I},readBytes(I,N){this.assertReadLimit(),this._touch();let A=this.inspectBytes(I);return this.position+=N??I,A},readUint8(){this.assertReadLimit(),this._touch();let I=this.inspectUint8();return this.position+=1,I},readUint16(){this.assertReadLimit(),this._touch();let I=this.inspectUint16();return this.position+=2,I},readUint24(){this.assertReadLimit(),this._touch();let I=this.inspectUint24();return this.position+=3,I},readUint32(){this.assertReadLimit(),this._touch();let I=this.inspectUint32();return this.position+=4,I},get remaining(){return this.bytes.length-this.position},setPosition(I){let N=this.position;return this.assertPosition(I),this.position=I,()=>this.position=N},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let I=this.getReadCount();if(this.positionReadCount.set(this.position,I+1),I>0)this.recursiveReadCount++}}});function jN(I,N={}){if(typeof N.size!=="undefined")w(I,{size:N.size});let A=M(I,N);return f(A,N)}function ON(I,N={}){let A=I;if(typeof N.size!=="undefined")w(A,{size:N.size}),A=n(A);if(A.length>1||A[0]>1)throw new wI(A);return Boolean(A[0])}function U(I,N={}){if(typeof N.size!=="undefined")w(I,{size:N.size});let A=M(I,N);return MI(A,N)}function HN(I,N={}){let A=I;if(typeof N.size!=="undefined")w(A,{size:N.size}),A=n(A,{dir:"right"});return new TextDecoder().decode(A)}var PN=Q(()=>{g();v();B()});function h(I,N){let A=typeof N==="string"?e(N):N,D=EN(A);if(Z(A)===0&&I.length>0)throw new FI;if(Z(N)&&Z(N)<32)throw new VI({data:typeof N==="string"?N:M(N),params:I,size:Z(N)});let $=0,G=[];for(let V=0;V<I.length;++V){let W=I[V];D.setPosition($);let[Y,X]=x(D,W,{staticPosition:0});$+=X,G.push(Y)}return G}function x(I,N,{staticPosition:A}){let D=II(N.type);if(D){let[$,G]=D;return UA(I,{...N,type:G},{length:$,staticPosition:A})}if(N.type==="tuple")return SA(I,N,{staticPosition:A});if(N.type==="address")return MA(I);if(N.type==="bool")return RA(I);if(N.type.startsWith("bytes"))return kA(I,N,{staticPosition:A});if(N.type.startsWith("uint")||N.type.startsWith("int"))return _A(I,N);if(N.type==="string")return EA(I,{staticPosition:A});throw new QI(N.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function MA(I){let N=I.readBytes(32);return[s(M(TI(N,-20))),32]}function UA(I,N,{length:A,staticPosition:D}){if(!A){let V=U(I.readBytes(hI)),W=D+V,Y=W+zN;I.setPosition(W);let X=U(I.readBytes(zN)),q=y(N),P=0,l=[];for(let S=0;S<X;++S){I.setPosition(Y+(q?S*32:P));let[gN,nN]=x(I,N,{staticPosition:Y});P+=nN,l.push(gN)}return I.setPosition(D+32),[l,32]}if(y(N)){let V=U(I.readBytes(hI)),W=D+V,Y=[];for(let X=0;X<A;++X){I.setPosition(W+X*32);let[q]=x(I,N,{staticPosition:W});Y.push(q)}return I.setPosition(D+32),[Y,32]}let $=0,G=[];for(let V=0;V<A;++V){let[W,Y]=x(I,N,{staticPosition:D+$});$+=Y,G.push(W)}return[G,$]}function RA(I){return[ON(I.readBytes(32),{size:32}),32]}function kA(I,N,{staticPosition:A}){let[D,$]=N.type.split("bytes");if(!$){let V=U(I.readBytes(32));I.setPosition(A+V);let W=U(I.readBytes(32));if(W===0)return I.setPosition(A+32),["0x",32];let Y=I.readBytes(W);return I.setPosition(A+32),[M(Y),32]}return[M(I.readBytes(Number.parseInt($),32)),32]}function _A(I,N){let A=N.type.startsWith("int"),D=Number.parseInt(N.type.split("int")[1]||"256"),$=I.readBytes(32);return[D>48?jN($,{signed:A}):U($,{signed:A}),32]}function SA(I,N,{staticPosition:A}){let D=N.components.length===0||N.components.some(({name:V})=>!V),$=D?[]:{},G=0;if(y(N)){let V=U(I.readBytes(hI)),W=A+V;for(let Y=0;Y<N.components.length;++Y){let X=N.components[Y];I.setPosition(W+G);let[q,P]=x(I,X,{staticPosition:W});G+=P,$[D?Y:X?.name]=q}return I.setPosition(A+32),[$,32]}for(let V=0;V<N.components.length;++V){let W=N.components[V],[Y,X]=x(I,W,{staticPosition:A});$[D?V:W?.name]=Y,G+=X}return[$,G]}function EA(I,{staticPosition:N}){let A=U(I.readBytes(32)),D=N+A;I.setPosition(D);let $=U(I.readBytes(32));if($===0)return I.setPosition(N+32),["",32];let G=I.readBytes($,32),V=HN(n(G));return I.setPosition(N+32),[V,32]}function y(I){let{type:N}=I;if(N==="string")return!0;if(N==="bytes")return!0;if(N.endsWith("[]"))return!0;if(N==="tuple")return I.components?.some(y);let A=II(I.type);if(A&&y({...I,type:A[1]}))return!0;return!1}var zN=32,hI=32;var CN=Q(()=>{XI();BI();LN();C();gI();PN();r();B();mI()});var z;((F)=>{F[F.UNKNOWN_ERROR=0]="UNKNOWN_ERROR";F[F.INVALID_BYTES_ARGS_LENGTH=1]="INVALID_BYTES_ARGS_LENGTH";F[F.ARRAY_LENGTH_MISMATCH=2]="ARRAY_LENGTH_MISMATCH";F[F.CONFIG_INVALID_VERSION=10]="CONFIG_INVALID_VERSION";F[F.CONFIG_INVALID_RELAYER_CONFIG=11]="CONFIG_INVALID_RELAYER_CONFIG";F[F.CONFIG_INVALID_MIN_SRC_CONFIRMATIONS=12]="CONFIG_INVALID_MIN_SRC_CONFIRMATIONS";F[F.CONFIG_INVALID_MIN_DST_CONFIRMATIONS=13]="CONFIG_INVALID_MIN_DST_CONFIRMATIONS";F[F.CONFIG_INVALID_SRC_CHAIN_SELECTOR=14]="CONFIG_INVALID_SRC_CHAIN_SELECTOR";F[F.CONFIG_INVALID_DST_CHAIN_SELECTOR=15]="CONFIG_INVALID_DST_CHAIN_SELECTOR";F[F.INVALID_MESSAGE_CONFIG=16]="INVALID_MESSAGE_CONFIG";F[F.CONFIG_SAME_CHAINS=17]="CONFIG_SAME_CHAINS";F[F.NO_CHAIN_DATA=20]="NO_CHAIN_DATA";F[F.NO_RPC_DATA=21]="NO_RPC_DATA";F[F.NO_RPC_PROVIDERS=22]="NO_RPC_PROVIDERS";F[F.INVALID_SOURCE_CHAIN=23]="INVALID_SOURCE_CHAIN";F[F.INVALID_DESTINATION_CHAIN=24]="INVALID_DESTINATION_CHAIN";F[F.INVALID_CHAIN=25]="INVALID_CHAIN";F[F.INVALID_RPC=26]="INVALID_RPC";F[F.EVENT_NOT_FOUND=30]="EVENT_NOT_FOUND";F[F.INVALID_HASHSUM=31]="INVALID_HASHSUM";F[F.INVALID_MESSAGE_ID=32]="INVALID_MESSAGE_ID";F[F.INVALID_DATA=33]="INVALID_DATA";F[F.INVALID_EXTRA_ARGS=34]="INVALID_EXTRA_ARGS";F[F.INVALID_INPUT=35]="INVALID_INPUT";F[F.INVALID_HASH_SUM=36]="INVALID_HASH_SUM";F[F.INVALID_CHAIN_DATA=37]="INVALID_CHAIN_DATA";F[F.INVALID_CHAIN_TYPE=38]="INVALID_CHAIN_TYPE";F[F.INVALID_TOKEN_TYPE=40]="INVALID_TOKEN_TYPE";F[F.INVALID_TOKEN_AMOUNT=41]="INVALID_TOKEN_AMOUNT";F[F.INVALID_RELAYER=50]="INVALID_RELAYER";F[F.INVALID_OPERATOR_COUNT=51]="INVALID_OPERATOR_COUNT";F[F.NO_REGISTERED_OPERATORS=52]="NO_REGISTERED_OPERATORS";F[F.NO_ALLOWED_OPERATORS=53]="NO_ALLOWED_OPERATORS";F[F.OPERATOR_SELECTION_FAILED=54]="OPERATOR_SELECTION_FAILED";F[F.INVALID_COHORTS_COUNT=55]="INVALID_COHORTS_COUNT";F[F.INVALID_OPERATOR_ADDRESS=56]="INVALID_OPERATOR_ADDRESS";F[F.INVALID_ACTION=57]="INVALID_ACTION";F[F.INVALID_OPERATOR_STAKE=58]="INVALID_OPERATOR_STAKE";F[F.INVALID_RECEIVER=60]="INVALID_RECEIVER";F[F.INVALID_SENDER=61]="INVALID_SENDER";F[F.INVALID_UINT256=62]="INVALID_UINT256";F[F.INVALID_ETHEREUM_ADDRESS=63]="INVALID_ETHEREUM_ADDRESS";F[F.DECODE_FAILED=70]="DECODE_FAILED"})(z||={});class i extends Error{type;data;constructor(I,N=null){super(z[I]);this.type=I,this.data=N}}function K(I){throw new i(I)}CN();mI();v();xI();var d={REPORT_TYPE:248,VERSION:240,REQUESTER:0,REQUESTER_MASK:(1n<<160n)-1n};function fN(I,N,A){if(I<0||I>255)throw new Error("reportType must be a uint8 (0-255)");if(N<0||N>255)throw new Error("version must be a uint8 (0-255)");let D=BigInt(I)<<BigInt(d.REPORT_TYPE),$=BigInt(N)<<BigInt(d.VERSION),G=f(A)&d.REQUESTER_MASK;return`0x${(D|$|G).toString(16).padStart(64,"0")}`}var dI={REPORT_VERSION:1};function BN(I){I=I.replace(/^0x/,"");let N=I.length/2,A=new Uint8Array(N);for(let D=0;D<A.length;D++)A[D]=parseInt(I.slice(D*2,D*2+2),16);return A}function bN(I,N){let A=nI([{type:"bytes32"},{type:"uint8[]"},{type:"uint8[]"},{type:"address[]"}],[N,I.chainTypes,I.actions,I.operatorAddresses]);return BN(A)}function xN(I){let[N,A,D,$,G]=I;try{let V=h([{type:"uint8[]"}],A)[0],W=h([{type:"uint8[]"}],D)[0],Y=h([{type:"address[]"}],$)[0];return{chainTypes:V,actions:W,operatorAddresses:Y,requester:G}}catch(V){K(70)}}function TN(I){jA(I.chainTypes),OA(I.actions),HA(I.operatorAddresses),PA(I.requester),zA(I)}function jA(I){let N=new Set([0,1]);if(!I.every((A)=>N.has(A)))K(38)}function OA(I){let N=new Set([1,0]);if(!I.every((A)=>N.has(A)))K(57)}function HA(I){if(!I.every(b))K(63)}function PA(I){if(!b(I))K(56)}function zA(I){let{chainTypes:N,actions:A,operatorAddresses:D}=I;if(N.length!==A.length||A.length!==D.length)K(2)}async function VV(I){try{let N=xN(I),A=TN(N);if(args.chainTypes.includes(0)&&args.operatorAddresses[0]!==args.requester)K(56);let D={version:dI.REPORT_VERSION,reportType:2,requester:args.requester,actions:args.actions,chainTypes:args.chainTypes,operatorAddresses:args.operatorAddresses},$=fN(2,dI.REPORT_VERSION,args.operatorAddresses);return bN(D,$)}catch(N){if(N instanceof i)throw N;else K(0)}}export{VV as main};
