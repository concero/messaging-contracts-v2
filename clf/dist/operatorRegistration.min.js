var J=(I,N)=>()=>(I&&(N=I(I=0)),N);function r(I,{includeName:N=!1}={}){if(!I)return"";return I.map((D)=>jN(D,{includeName:N})).join(N?", ":",")}function jN(I,{includeName:N}){if(I.type.startsWith("tuple"))return`(${r(I.components,{includeName:N})})${I.type.slice(5)}`;return I.type+(N&&I.name?` ${I.name}`:"")}var PI=()=>{};function k(I,{strict:N=!0}={}){if(!I)return!1;if(typeof I!=="string")return!1;return N?/^0x[0-9a-fA-F]*$/.test(I):I.startsWith("0x")}function w(I){if(k(I,{strict:!1}))return Math.ceil((I.length-2)/2);return I.length}var v=()=>{};var a="2.23.5";function zI(I,N){if(N?.(I))return I;if(I&&typeof I==="object"&&"cause"in I&&I.cause!==void 0)return zI(I.cause,N);return N?null:I}var s,q;var S=J(()=>{s={getDocsUrl:({docsBaseUrl:I,docsPath:N="",docsSlug:D})=>N?`${I??"https://viem.sh"}${N}${D?`#${D}`:""}`:void 0,version:`viem@${a}`};q=class q extends Error{constructor(I,N={}){let D=(()=>{if(N.cause instanceof q)return N.cause.details;if(N.cause?.message)return N.cause.message;return N.details})(),A=(()=>{if(N.cause instanceof q)return N.cause.docsPath||N.docsPath;return N.docsPath})(),$=s.getDocsUrl?.({...N,docsPath:A}),G=[I||"An error occurred.","",...N.metaMessages?[...N.metaMessages,""]:[],...$?[`Docs: ${$}`]:[],...D?[`Details: ${D}`]:[],...s.version?[`Version: ${s.version}`]:[]].join(`
`);super(G,N.cause?{cause:N.cause}:void 0);Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=D,this.docsPath=A,this.metaMessages=N.metaMessages,this.name=N.name??this.name,this.shortMessage=I,this.version=a}walk(I){return zI(this,I)}}});var II,NI,DI;var CI=J(()=>{PI();S();II=class II extends q{constructor({data:I,params:N,size:D}){super([`Data size of ${D} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${r(N,{includeName:!0})})`,`Data:   ${I} (${D} bytes)`],name:"AbiDecodingDataSizeTooSmallError"});Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=I,this.params=N,this.size=D}};NI=class NI extends q{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}};DI=class DI extends q{constructor(I,{docsPath:N}){super([`Type "${I}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:N,name:"InvalidAbiDecodingType"})}}});var n,m;var AI=J(()=>{S();n=class n extends q{constructor({offset:I,position:N,size:D}){super(`Slice ${N==="start"?"starting":"ending"} at offset "${I}" is out-of-bounds (size: ${D}).`,{name:"SliceOffsetOutOfBoundsError"})}};m=class m extends q{constructor({size:I,targetSize:N,type:D}){super(`${D.charAt(0).toUpperCase()}${D.slice(1).toLowerCase()} size (${I}) exceeds padding size (${N}).`,{name:"SizeExceedsPaddingSizeError"})}}});function L(I,{dir:N,size:D=32}={}){if(typeof I==="string")return kN(I,{dir:N,size:D});return SN(I,{dir:N,size:D})}function kN(I,{dir:N,size:D=32}={}){if(D===null)return I;let A=I.replace("0x","");if(A.length>D*2)throw new m({size:Math.ceil(A.length/2),targetSize:D,type:"hex"});return`0x${A[N==="right"?"padEnd":"padStart"](D*2,"0")}`}function SN(I,{dir:N,size:D=32}={}){if(D===null)return I;if(I.length>D)throw new m({size:I.length,targetSize:D,type:"bytes"});let A=new Uint8Array(D);for(let $=0;$<D;$++){let G=N==="right";A[G?$:D-$-1]=I[G?$:I.length-$-1]}return A}var $I=J(()=>{AI()});var FI,VI,GI;var u=J(()=>{S();FI=class FI extends q{constructor({max:I,min:N,signed:D,size:A,value:$}){super(`Number "${$}" is not in safe ${A?`${A*8}-bit ${D?"signed":"unsigned"} `:""}integer range ${I?`(${N} to ${I})`:`(above ${N})`}`,{name:"IntegerOutOfRangeError"})}};VI=class VI extends q{constructor(I){super(`Bytes value "${I}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};GI=class GI extends q{constructor({givenSize:I,maxSize:N}){super(`Size cannot exceed ${N} bytes. Given size: ${I} bytes.`,{name:"SizeOverflowError"})}}});function z(I,{dir:N="left"}={}){let D=typeof I==="string"?I.replace("0x",""):I,A=0;for(let $=0;$<D.length-1;$++)if(D[N==="left"?$:D.length-$-1].toString()==="0")A++;else break;if(D=N==="left"?D.slice(A):D.slice(0,D.length-A),typeof I==="string"){if(D.length===1&&N==="right")D=`${D}0`;return`0x${D.length%2===1?`0${D}`:D}`}return D}function K(I,{size:N}){if(w(I)>N)throw new GI({givenSize:w(I),maxSize:N})}function YI(I,N={}){let{signed:D}=N;if(N.size)K(I,{size:N.size});let A=BigInt(I);if(!D)return A;let $=(I.length-2)/2,G=(1n<<BigInt($)*8n-1n)-1n;if(A<=G)return A;return A-BigInt(`0x${"f".padStart($*2,"f")}`)-1n}function BI(I,N={}){return Number(YI(I,N))}var c=J(()=>{u();v()});function bI(I,N={}){if(typeof I==="number"||typeof I==="bigint")return WI(I,N);if(typeof I==="string")return zN(I,N);if(typeof I==="boolean")return ON(I,N);return U(I,N)}function ON(I,N={}){let D=`0x${Number(I)}`;if(typeof N.size==="number")return K(D,{size:N.size}),L(D,{size:N.size});return D}function U(I,N={}){let D="";for(let $=0;$<I.length;$++)D+=HN[I[$]];let A=`0x${D}`;if(typeof N.size==="number")return K(A,{size:N.size}),L(A,{dir:"right",size:N.size});return A}function WI(I,N={}){let{signed:D,size:A}=N,$=BigInt(I),G;if(A)if(D)G=(1n<<BigInt(A)*8n-1n)-1n;else G=2n**(BigInt(A)*8n)-1n;else if(typeof I==="number")G=BigInt(Number.MAX_SAFE_INTEGER);let F=typeof G==="bigint"&&D?-G-1n:0;if(G&&$>G||$<F){let W=typeof I==="bigint"?"n":"";throw new FI({max:G?`${G}${W}`:void 0,min:`${F}${W}`,signed:D,size:A,value:`${I}${W}`})}let Y=`0x${(D&&$<0?(1n<<BigInt(A*8))+BigInt($):$).toString(16)}`;if(A)return L(Y,{size:A});return Y}function zN(I,N={}){let D=PN.encode(I);return U(D,N)}var HN,PN;var C=J(()=>{u();$I();c();HN=Array.from({length:256},(I,N)=>N.toString(16).padStart(2,"0"));PN=new TextEncoder});function xI(I,N={}){if(typeof I==="number"||typeof I==="bigint")return bN(I,N);if(typeof I==="boolean")return BN(I,N);if(k(I))return y(I,N);return JI(I,N)}function BN(I,N={}){let D=new Uint8Array(1);if(D[0]=Number(I),typeof N.size==="number")return K(D,{size:N.size}),L(D,{size:N.size});return D}function fI(I){if(I>=_.zero&&I<=_.nine)return I-_.zero;if(I>=_.A&&I<=_.F)return I-(_.A-10);if(I>=_.a&&I<=_.f)return I-(_.a-10);return}function y(I,N={}){let D=I;if(N.size)K(D,{size:N.size}),D=L(D,{dir:"right",size:N.size});let A=D.slice(2);if(A.length%2)A=`0${A}`;let $=A.length/2,G=new Uint8Array($);for(let F=0,Y=0;F<$;F++){let W=fI(A.charCodeAt(Y++)),Q=fI(A.charCodeAt(Y++));if(W===void 0||Q===void 0)throw new q(`Invalid byte sequence ("${A[Y-2]}${A[Y-1]}" in "${A}").`);G[F]=W*16+Q}return G}function bN(I,N){let D=WI(I,N);return y(D)}function JI(I,N={}){let D=CN.encode(I);if(typeof N.size==="number")return K(D,{size:N.size}),L(D,{dir:"right",size:N.size});return D}var CN,_;var h=J(()=>{S();$I();c();C();CN=new TextEncoder;_={zero:48,nine:57,A:65,F:70,a:97,f:102}});function QI(I){if(!Number.isSafeInteger(I)||I<0)throw new Error("positive integer expected, got "+I)}function fN(I){return I instanceof Uint8Array||ArrayBuffer.isView(I)&&I.constructor.name==="Uint8Array"}function B(I,...N){if(!fN(I))throw new Error("Uint8Array expected");if(N.length>0&&!N.includes(I.length))throw new Error("Uint8Array expected of length "+N+", got length="+I.length)}function qI(I,N=!0){if(I.destroyed)throw new Error("Hash instance has been destroyed");if(N&&I.finished)throw new Error("Hash#digest() has already been called")}function TI(I,N){B(I);let D=N.outputLen;if(I.length<D)throw new Error("digestInto() expects output buffer of length at least "+D)}var XI=()=>{};function xN(I,N=!1){if(N)return{h:Number(I&d),l:Number(I>>gI&d)};return{h:Number(I>>gI&d)|0,l:Number(I&d)|0}}function vI(I,N=!1){let D=new Uint32Array(I.length),A=new Uint32Array(I.length);for(let $=0;$<I.length;$++){let{h:G,l:F}=xN(I[$],N);[D[$],A[$]]=[G,F]}return[D,A]}var d,gI,nI=(I,N,D)=>I<<D|N>>>32-D,mI=(I,N,D)=>N<<D|I>>>32-D,uI=(I,N,D)=>N<<D-32|I>>>64-D,cI=(I,N,D)=>I<<D-32|N>>>64-D;var yI=J(()=>{d=BigInt(4294967295),gI=BigInt(32)});function hI(I){return new Uint32Array(I.buffer,I.byteOffset,Math.floor(I.byteLength/4))}function TN(I){return I<<24&4278190080|I<<8&16711680|I>>>8&65280|I>>>24&255}function KI(I){for(let N=0;N<I.length;N++)I[N]=TN(I[N])}function gN(I){if(typeof I!=="string")throw new Error("utf8ToBytes expected string, got "+typeof I);return new Uint8Array(new TextEncoder().encode(I))}function ZI(I){if(typeof I==="string")I=gN(I);return B(I),I}class RI{clone(){return this._cloneInto()}}function dI(I){let N=(A)=>I().update(ZI(A)).digest(),D=I();return N.outputLen=D.outputLen,N.blockLen=D.blockLen,N.create=()=>I(),N}var wI;var lI=J(()=>{XI();/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */wI=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)()});function dN(I,N=24){let D=new Uint32Array(10);for(let A=24-N;A<24;A++){for(let F=0;F<10;F++)D[F]=I[F]^I[F+10]^I[F+20]^I[F+30]^I[F+40];for(let F=0;F<10;F+=2){let Y=(F+8)%10,W=(F+2)%10,Q=D[W],X=D[W+1],j=iI(Q,X,1)^D[Y],g=pI(Q,X,1)^D[Y+1];for(let E=0;E<50;E+=10)I[F+E]^=j,I[F+E+1]^=g}let $=I[2],G=I[3];for(let F=0;F<24;F++){let Y=tI[F],W=iI($,G,Y),Q=pI($,G,Y),X=oI[F];$=I[X],G=I[X+1],I[X]=W,I[X+1]=Q}for(let F=0;F<50;F+=10){for(let Y=0;Y<10;Y++)D[Y]=I[F+Y];for(let Y=0;Y<10;Y++)I[F+Y]^=~D[(Y+2)%10]&D[(Y+4)%10]}I[0]^=yN[A],I[1]^=hN[A]}D.fill(0)}var oI,tI,eI,vN,b,nN,mN,uN,cN,yN,hN,iI=(I,N,D)=>D>32?uI(I,N,D):nI(I,N,D),pI=(I,N,D)=>D>32?cI(I,N,D):mI(I,N,D),UI,lN=(I,N,D)=>dI(()=>new UI(N,I,D)),rI;var aI=J(()=>{XI();yI();lI();oI=[],tI=[],eI=[],vN=BigInt(0),b=BigInt(1),nN=BigInt(2),mN=BigInt(7),uN=BigInt(256),cN=BigInt(113);for(let I=0,N=b,D=1,A=0;I<24;I++){[D,A]=[A,(2*D+3*A)%5],oI.push(2*(5*A+D)),tI.push((I+1)*(I+2)/2%64);let $=vN;for(let G=0;G<7;G++)if(N=(N<<b^(N>>mN)*cN)%uN,N&nN)$^=b<<(b<<BigInt(G))-b;eI.push($)}[yN,hN]=vI(eI,!0);UI=class UI extends RI{constructor(I,N,D,A=!1,$=24){super();if(this.blockLen=I,this.suffix=N,this.outputLen=D,this.enableXOF=A,this.rounds=$,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,QI(D),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hI(this.state)}keccak(){if(!wI)KI(this.state32);if(dN(this.state32,this.rounds),!wI)KI(this.state32);this.posOut=0,this.pos=0}update(I){qI(this);let{blockLen:N,state:D}=this;I=ZI(I);let A=I.length;for(let $=0;$<A;){let G=Math.min(N-this.pos,A-$);for(let F=0;F<G;F++)D[this.pos++]^=I[$++];if(this.pos===N)this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:I,suffix:N,pos:D,blockLen:A}=this;if(I[D]^=N,(N&128)!==0&&D===A-1)this.keccak();I[A-1]^=128,this.keccak()}writeInto(I){qI(this,!1),B(I),this.finish();let N=this.state,{blockLen:D}=this;for(let A=0,$=I.length;A<$;){if(this.posOut>=D)this.keccak();let G=Math.min(D-this.posOut,$-A);I.set(N.subarray(this.posOut,this.posOut+G),A),this.posOut+=G,A+=G}return I}xofInto(I){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(I)}xof(I){return QI(I),this.xofInto(new Uint8Array(I))}digestInto(I){if(TI(I,this),this.finished)throw new Error("digest() was already called");return this.writeInto(I),this.destroy(),I}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(I){let{blockLen:N,suffix:D,outputLen:A,rounds:$,enableXOF:G}=this;return I||(I=new UI(N,D,A,G,$)),I.state32.set(this.state32),I.pos=this.pos,I.posOut=this.posOut,I.finished=this.finished,I.rounds=$,I.suffix=D,I.outputLen=A,I.enableXOF=G,I.destroyed=this.destroyed,I}};rI=lN(1,136,32)});function sI(I,N){let D=N||"hex",A=rI(k(I,{strict:!1})?xI(I):I);if(D==="bytes")return A;return bI(A)}var IN=J(()=>{aI();h();C()});var f;var MI=J(()=>{f=class f extends Map{constructor(I){super();Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=I}get(I){let N=super.get(I);if(super.has(I)&&N!==void 0)this.delete(I),super.set(I,N);return N}set(I,N){if(super.set(I,N),this.maxSize&&this.size>this.maxSize){let D=this.keys().next().value;if(D)this.delete(D)}return this}}});function l(I,N){if(_I.has(`${I}.${N}`))return _I.get(`${I}.${N}`);let D=N?`${N}${I.toLowerCase()}`:I.substring(2).toLowerCase(),A=sI(JI(D),"bytes"),$=(N?D.substring(`${N}0x`.length):D).split("");for(let F=0;F<40;F+=2){if(A[F>>1]>>4>=8&&$[F])$[F]=$[F].toUpperCase();if((A[F>>1]&15)>=8&&$[F+1])$[F+1]=$[F+1].toUpperCase()}let G=`0x${$.join("")}`;return _I.set(`${I}.${N}`,G),G}var _I;var EI=J(()=>{h();IN();MI();_I=new f(8192)});function i(I,N){let{strict:D=!0}=N??{},A=`${I}.${D}`;if(LI.has(A))return LI.get(A);let $=(()=>{if(!iN.test(I))return!1;if(I.toLowerCase()===I)return!0;if(D)return l(I)===I;return!0})();return LI.set(A,$),$}var iN,LI;var NN=J(()=>{MI();EI();iN=/^0x[a-fA-F0-9]{40}$/,LI=new f(8192)});function pN(I,N){if(typeof N==="number"&&N>0&&N>w(I)-1)throw new n({offset:N,position:"start",size:w(I)})}function oN(I,N,D){if(typeof N==="number"&&typeof D==="number"&&w(I)!==D-N)throw new n({offset:D,position:"end",size:w(I)})}function DN(I,N,D,{strict:A}={}){pN(I,N);let $=I.slice(N,D);if(A)oN($,N,D);return $}var AN=J(()=>{AI();v()});function jI(I){let N=I.match(/^(.*)\[(\d+)?\]$/);return N?[N[2]?Number(N[2]):null,N[1]]:void 0}var $N=()=>{};var p,kI,SI;var FN=J(()=>{S();p=class p extends q{constructor({offset:I}){super(`Offset \`${I}\` cannot be negative.`,{name:"NegativeOffsetError"})}};kI=class kI extends q{constructor({length:I,position:N}){super(`Position \`${N}\` is out of bounds (\`0 < position < ${I}\`).`,{name:"PositionOutOfBoundsError"})}};SI=class SI extends q{constructor({count:I,limit:N}){super(`Recursive read limit of \`${N}\` exceeded (recursive read count: \`${I}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function VN(I,{recursiveReadLimit:N=8192}={}){let D=Object.create(tN);return D.bytes=I,D.dataView=new DataView(I.buffer,I.byteOffset,I.byteLength),D.positionReadCount=new Map,D.recursiveReadLimit=N,D}var tN;var GN=J(()=>{FN();tN={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new SI({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(I){if(I<0||I>this.bytes.length-1)throw new kI({length:this.bytes.length,position:I})},decrementPosition(I){if(I<0)throw new p({offset:I});let N=this.position-I;this.assertPosition(N),this.position=N},getReadCount(I){return this.positionReadCount.get(I||this.position)||0},incrementPosition(I){if(I<0)throw new p({offset:I});let N=this.position+I;this.assertPosition(N),this.position=N},inspectByte(I){let N=I??this.position;return this.assertPosition(N),this.bytes[N]},inspectBytes(I,N){let D=N??this.position;return this.assertPosition(D+I-1),this.bytes.subarray(D,D+I)},inspectUint8(I){let N=I??this.position;return this.assertPosition(N),this.bytes[N]},inspectUint16(I){let N=I??this.position;return this.assertPosition(N+1),this.dataView.getUint16(N)},inspectUint24(I){let N=I??this.position;return this.assertPosition(N+2),(this.dataView.getUint16(N)<<8)+this.dataView.getUint8(N+2)},inspectUint32(I){let N=I??this.position;return this.assertPosition(N+3),this.dataView.getUint32(N)},pushByte(I){this.assertPosition(this.position),this.bytes[this.position]=I,this.position++},pushBytes(I){this.assertPosition(this.position+I.length-1),this.bytes.set(I,this.position),this.position+=I.length},pushUint8(I){this.assertPosition(this.position),this.bytes[this.position]=I,this.position++},pushUint16(I){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,I),this.position+=2},pushUint24(I){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,I>>8),this.dataView.setUint8(this.position+2,I&255),this.position+=3},pushUint32(I){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,I),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let I=this.inspectByte();return this.position++,I},readBytes(I,N){this.assertReadLimit(),this._touch();let D=this.inspectBytes(I);return this.position+=N??I,D},readUint8(){this.assertReadLimit(),this._touch();let I=this.inspectUint8();return this.position+=1,I},readUint16(){this.assertReadLimit(),this._touch();let I=this.inspectUint16();return this.position+=2,I},readUint24(){this.assertReadLimit(),this._touch();let I=this.inspectUint24();return this.position+=3,I},readUint32(){this.assertReadLimit(),this._touch();let I=this.inspectUint32();return this.position+=4,I},get remaining(){return this.bytes.length-this.position},setPosition(I){let N=this.position;return this.assertPosition(I),this.position=I,()=>this.position=N},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let I=this.getReadCount();if(this.positionReadCount.set(this.position,I+1),I>0)this.recursiveReadCount++}}});function YN(I,N={}){if(typeof N.size!=="undefined")K(I,{size:N.size});let D=U(I,N);return YI(D,N)}function WN(I,N={}){let D=I;if(typeof N.size!=="undefined")K(D,{size:N.size}),D=z(D);if(D.length>1||D[0]>1)throw new VI(D);return Boolean(D[0])}function M(I,N={}){if(typeof N.size!=="undefined")K(I,{size:N.size});let D=U(I,N);return BI(D,N)}function JN(I,N={}){let D=I;if(typeof N.size!=="undefined")K(D,{size:N.size}),D=z(D,{dir:"right"});return new TextDecoder().decode(D)}var QN=J(()=>{u();c();C()});function T(I,N){let D=typeof N==="string"?y(N):N,A=VN(D);if(w(D)===0&&I.length>0)throw new NI;if(w(N)&&w(N)<32)throw new II({data:typeof N==="string"?N:U(N),params:I,size:w(N)});let $=0,G=[];for(let F=0;F<I.length;++F){let Y=I[F];A.setPosition($);let[W,Q]=H(A,Y,{staticPosition:0});$+=Q,G.push(W)}return G}function H(I,N,{staticPosition:D}){let A=jI(N.type);if(A){let[$,G]=A;return rN(I,{...N,type:G},{length:$,staticPosition:D})}if(N.type==="tuple")return ND(I,N,{staticPosition:D});if(N.type==="address")return eN(I);if(N.type==="bool")return aN(I);if(N.type.startsWith("bytes"))return sN(I,N,{staticPosition:D});if(N.type.startsWith("uint")||N.type.startsWith("int"))return ID(I,N);if(N.type==="string")return DD(I,{staticPosition:D});throw new DI(N.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function eN(I){let N=I.readBytes(32);return[l(U(DN(N,-20))),32]}function rN(I,N,{length:D,staticPosition:A}){if(!D){let F=M(I.readBytes(HI)),Y=A+F,W=Y+qN;I.setPosition(Y);let Q=M(I.readBytes(qN)),X=x(N),j=0,g=[];for(let E=0;E<Q;++E){I.setPosition(W+(X?E*32:j));let[EN,LN]=H(I,N,{staticPosition:W});j+=LN,g.push(EN)}return I.setPosition(A+32),[g,32]}if(x(N)){let F=M(I.readBytes(HI)),Y=A+F,W=[];for(let Q=0;Q<D;++Q){I.setPosition(Y+Q*32);let[X]=H(I,N,{staticPosition:Y});W.push(X)}return I.setPosition(A+32),[W,32]}let $=0,G=[];for(let F=0;F<D;++F){let[Y,W]=H(I,N,{staticPosition:A+$});$+=W,G.push(Y)}return[G,$]}function aN(I){return[WN(I.readBytes(32),{size:32}),32]}function sN(I,N,{staticPosition:D}){let[A,$]=N.type.split("bytes");if(!$){let F=M(I.readBytes(32));I.setPosition(D+F);let Y=M(I.readBytes(32));if(Y===0)return I.setPosition(D+32),["0x",32];let W=I.readBytes(Y);return I.setPosition(D+32),[U(W),32]}return[U(I.readBytes(Number.parseInt($),32)),32]}function ID(I,N){let D=N.type.startsWith("int"),A=Number.parseInt(N.type.split("int")[1]||"256"),$=I.readBytes(32);return[A>48?YN($,{signed:D}):M($,{signed:D}),32]}function ND(I,N,{staticPosition:D}){let A=N.components.length===0||N.components.some(({name:F})=>!F),$=A?[]:{},G=0;if(x(N)){let F=M(I.readBytes(HI)),Y=D+F;for(let W=0;W<N.components.length;++W){let Q=N.components[W];I.setPosition(Y+G);let[X,j]=H(I,Q,{staticPosition:Y});G+=j,$[A?W:Q?.name]=X}return I.setPosition(D+32),[$,32]}for(let F=0;F<N.components.length;++F){let Y=N.components[F],[W,Q]=H(I,Y,{staticPosition:D});$[A?F:Y?.name]=W,G+=Q}return[$,G]}function DD(I,{staticPosition:N}){let D=M(I.readBytes(32)),A=N+D;I.setPosition(A);let $=M(I.readBytes(32));if($===0)return I.setPosition(N+32),["",32];let G=I.readBytes($,32),F=JN(z(G));return I.setPosition(N+32),[F,32]}function x(I){let{type:N}=I;if(N==="string")return!0;if(N==="bytes")return!0;if(N.endsWith("[]"))return!0;if(N==="tuple")return I.components?.some(x);let D=jI(I.type);if(D&&x({...I,type:D[1]}))return!0;return!1}var qN=32,HI=32;var XN=J(()=>{CI();EI();GN();v();AN();QN();h();C();$N()});XN();NN();var O;((V)=>{V[V.UNKNOWN_ERROR=0]="UNKNOWN_ERROR";V[V.INVALID_BYTES_ARGS_LENGTH=1]="INVALID_BYTES_ARGS_LENGTH";V[V.ARRAY_LENGTH_MISMATCH=2]="ARRAY_LENGTH_MISMATCH";V[V.CONFIG_INVALID_VERSION=10]="CONFIG_INVALID_VERSION";V[V.CONFIG_INVALID_RELAYER_CONFIG=11]="CONFIG_INVALID_RELAYER_CONFIG";V[V.CONFIG_INVALID_MIN_SRC_CONFIRMATIONS=12]="CONFIG_INVALID_MIN_SRC_CONFIRMATIONS";V[V.CONFIG_INVALID_MIN_DST_CONFIRMATIONS=13]="CONFIG_INVALID_MIN_DST_CONFIRMATIONS";V[V.CONFIG_INVALID_SRC_CHAIN_SELECTOR=14]="CONFIG_INVALID_SRC_CHAIN_SELECTOR";V[V.CONFIG_INVALID_DST_CHAIN_SELECTOR=15]="CONFIG_INVALID_DST_CHAIN_SELECTOR";V[V.INVALID_MESSAGE_CONFIG=16]="INVALID_MESSAGE_CONFIG";V[V.NO_CHAIN_DATA=20]="NO_CHAIN_DATA";V[V.NO_RPC_DATA=21]="NO_RPC_DATA";V[V.NO_RPC_PROVIDERS=22]="NO_RPC_PROVIDERS";V[V.INVALID_SOURCE_CHAIN=23]="INVALID_SOURCE_CHAIN";V[V.INVALID_DESTINATION_CHAIN=24]="INVALID_DESTINATION_CHAIN";V[V.INVALID_CHAIN=25]="INVALID_CHAIN";V[V.INVALID_RPC=26]="INVALID_RPC";V[V.EVENT_NOT_FOUND=30]="EVENT_NOT_FOUND";V[V.INVALID_HASHSUM=31]="INVALID_HASHSUM";V[V.INVALID_MESSAGE_ID=32]="INVALID_MESSAGE_ID";V[V.INVALID_DATA=33]="INVALID_DATA";V[V.INVALID_EXTRA_ARGS=34]="INVALID_EXTRA_ARGS";V[V.INVALID_INPUT=35]="INVALID_INPUT";V[V.INVALID_HASH_SUM=36]="INVALID_HASH_SUM";V[V.INVALID_CHAIN_DATA=37]="INVALID_CHAIN_DATA";V[V.INVALID_CHAIN_TYPE=38]="INVALID_CHAIN_TYPE";V[V.INVALID_TOKEN_TYPE=40]="INVALID_TOKEN_TYPE";V[V.INVALID_TOKEN_AMOUNT=41]="INVALID_TOKEN_AMOUNT";V[V.INVALID_RELAYER=50]="INVALID_RELAYER";V[V.INVALID_OPERATOR_COUNT=51]="INVALID_OPERATOR_COUNT";V[V.NO_REGISTERED_OPERATORS=52]="NO_REGISTERED_OPERATORS";V[V.NO_ALLOWED_OPERATORS=53]="NO_ALLOWED_OPERATORS";V[V.OPERATOR_SELECTION_FAILED=54]="OPERATOR_SELECTION_FAILED";V[V.INVALID_COHORTS_COUNT=55]="INVALID_COHORTS_COUNT";V[V.INVALID_OPERATOR_ADDRESS=56]="INVALID_OPERATOR_ADDRESS";V[V.INVALID_ACTION=57]="INVALID_ACTION";V[V.INVALID_OPERATOR_STAKE=58]="INVALID_OPERATOR_STAKE";V[V.INVALID_RECEIVER=60]="INVALID_RECEIVER";V[V.INVALID_SENDER=61]="INVALID_SENDER";V[V.INVALID_UINT256=62]="INVALID_UINT256";V[V.INVALID_ETHEREUM_ADDRESS=63]="INVALID_ETHEREUM_ADDRESS";V[V.DECODE_FAILED=70]="DECODE_FAILED"})(O||={});class o extends Error{type;data;constructor(I,N=null){super(O[I]);this.type=I,this.data=N}}function Z(I){throw new o(I)}function wN(I){let[N,D,A,$,G]=I;try{let F=T([{type:"uint8[]"}],D)[0],Y=T([{type:"uint8[]"}],A)[0],W=T([{type:"address[]"}],$)[0];return{chainTypes:F,actions:Y,operatorAddresses:W,requester:G}}catch(F){Z(70)}}function KN(I){$D(I.chainTypes),FD(I.actions),VD(I.operatorAddresses),GD(I.requester),YD(I)}function $D(I){let N=new Set([0,1]);if(!I.every((D)=>N.has(D)))Z(38)}function FD(I){let N=new Set([1,0]);if(!I.every((D)=>N.has(D)))Z(57)}function VD(I){if(!I.every(i))Z(63)}function GD(I){if(!i(I))Z(56)}function YD(I){let{chainTypes:N,actions:D,operatorAddresses:A}=I;if(N.length!==D.length||D.length!==A.length)Z(2)}var R={ADDRESS:20,WORD:32,UINT32:4,UINT16:2,VERSION:1,REPORT_TYPE:1,OPERATOR:32,ARRAY_LENGTH:4},t={REPORT_TYPE:248,VERSION:240,REQUESTER:0,REQUESTER_MASK:(1n<<160n)-1n};function ZN(I){if(I<0n||I>(1n<<256n)-1n)Z(62);return new Uint8Array(Buffer.from(I.toString(16).padStart(64,"0"),"hex"))}function RN(I){return new Uint8Array(Buffer.from(I.replace(/^0x/,""),"hex"))}function e(I){return new Uint8Array(new Uint32Array([I]).buffer)}function OI(I){return new Uint8Array([I])}function UN(I,N,D){return BigInt(I)<<BigInt(t.REPORT_TYPE)|BigInt(N)<<BigInt(t.VERSION)|BigInt(`0x${D.replace(/^0x/,"")}`)&t.REQUESTER_MASK}function MN(I){let N=I.chainTypes.map((Y)=>OI(Y)),D=I.actions.map((Y)=>OI(Y)),A=I.operatorAddresses.map((Y)=>RN(Y.padStart(40,"0"))),$=R.WORD+R.ARRAY_LENGTH+N.length+R.ARRAY_LENGTH+D.length+R.ARRAY_LENGTH+A.length*R.ADDRESS,G=new Uint8Array($),F=0;return G.set(ZN(UN(I.reportType,I.version,I.requester)),F),F+=R.WORD,G.set(e(N.length),F),F+=R.ARRAY_LENGTH,N.forEach((Y)=>{G.set(Y,F),F+=1}),G.set(e(D.length),F),F+=R.ARRAY_LENGTH,D.forEach((Y)=>{G.set(Y,F),F+=1}),G.set(e(A.length),F),F+=R.ARRAY_LENGTH,A.forEach((Y)=>{G.set(Y,F),F+=R.ADDRESS}),G}var _N={REPORT_VERSION:1};async function q$(I){try{let N=wN(I),D=KN(N);if(args.chainTypes.includes(0)&&args.operatorAddresses[0]!==args.requester)Z(56);let A={version:_N.REPORT_VERSION,reportType:2,requester:args.requester,actions:args.actions,chainTypes:args.chainTypes,operatorAddresses:args.operatorAddresses};return MN(A)}catch(N){if(N instanceof o)throw N;else Z(0)}}export{q$ as main};
